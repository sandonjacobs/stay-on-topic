plugins {
    id 'java'
}

dependencies {
    compile 'org.apache.kafka:kafka-clients:0.11.0.3'
    compile 'org.apache.kafka:kafka-streams:0.11.0.3'
    compile 'org.apache.kafka:kafka_2.12:0.11.0.3'
    testCompile 'org.apache.kafka:kafka-clients:0.11.0.3:test'
    testCompile 'org.apache.kafka:kafka-streams:0.11.0.3:test'
    testCompile 'org.apache.kafka:kafka_2.12:0.11.0.3:test'
    testCompile 'org.hamcrest:hamcrest-library:1.3'
    testCompile 'junit:junit:4.12'
}

configurations {
    testClasses {
        extendsFrom(testRuntime)
    }
}

task testJar(type: Jar) {
    classifier = 'test'
    from sourceSets.test.output
}

// add the jar generated by the testJar task to the testClasses dependency
artifacts {
    testClasses testJar
}
